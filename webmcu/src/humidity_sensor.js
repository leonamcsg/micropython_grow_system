let myPlotter=new XYPlotter("myCanvas"),numPoints=20,y_scale=12,px_per_unit=(myPlotter.xMax-35)/numPoints;myPlotter.ctx.lineWidth=1.2,x_index=1,y_index=0;let xPoints=[],yPoints=[];function draw_axis(){char="0",x=myPlotter.xMax-4;for(let t=10;t>0;t--,x-=px_per_unit)myPlotter.plotChar(x-35,345,"-"+char,"15px"),char=Number(char)+1;x=myPlotter.xMax/2-26;for(let t=10;t>0;t--,x-=px_per_unit)myPlotter.plotChar(x,345,"-"+char,"15px"),char=Number(char)+1;y=myPlotter.yMax/y_scale,char=100,myPlotter.plotChar(1,y,char+"%","12px"),char=90;for(let t=2*y;t<myPlotter.yMax-y;t+=y)myPlotter.plotChar(5,t,char+"%","12px"),char-=10;myPlotter.plotChar(11,myPlotter.yMax-y,char+"%","12px")}function print_points(t,n,e,r="blue"){myPlotter.plotPoints(t,n,e,r),myPlotter.plotPoints(1,0,0,r)}function print_grid(){t=y=myPlotter.yMax/y_scale;for(let n=0;n<y_scale-1;n++)myPlotter.plotLine(px_per_unit-1,n*t+t,myPlotter.xMax-px_per_unit,n*t+t,"black");for(let t=1;t<numPoints+1;t++)myPlotter.plotLine(t*px_per_unit,y,t*px_per_unit,myPlotter.yMax-y,"black")}function print_lines(t,n){for(let e=0;e<numPoints;e++)myPlotter.plotLine(t[e],n[e],t[e+1],n[e+1],"red")}function print_graph(){fetch("/config/readings.json").then((t=>t.json())).then((t=>{console.log(t),xPoints=Array(numPoints).fill(0).map((function(){return x_index++*px_per_unit})),yPoints=Array(numPoints).fill(0).map((function(){return myPlotter.yMax-myPlotter.yMax/y_scale-Math.abs(t[y_index++].moisture)/100*(myPlotter.yMax-myPlotter.yMax/y_scale*2)})),print_grid(xPoints,yPoints),print_points(numPoints,xPoints,yPoints,"blue"),print_lines(xPoints,yPoints),draw_axis()}))}function do_nav(){document.getElementById("menu-toggle").addEventListener("click",(function(){var t=document.getElementById("navbar-menu");"none"===t.style.display||""===t.style.display?t.style.display="flex":t.style.display="none"})),window.addEventListener("resize",(function(){var t=document.getElementById("navbar-menu");1080<window.innerWidth?t.style.display="flex":t.style.display="none"}))}